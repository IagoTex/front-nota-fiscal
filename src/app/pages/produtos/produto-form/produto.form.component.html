<h2>{{titulo}}</h2>
<br>
<br>
  <dx-form
    #formulario
    align="right"
    labelLocation="left"
    [alignItemLabels]="true"
    [validationGroup]="'produtoFormGroup'"
    [(formData)]="produto">

    <dxi-item [visible]="mostrarPesquisa" [label]="{text: 'Selecione o Produto'}" [template]="'selectorTemplate'"></dxi-item>

    <dxi-item  [label]="{text: 'Descrição'}" dataField="descricao" [template]="'nomeTemplate'"></dxi-item>

    <dxi-item  [label]="{text: 'Código'}" dataField="codProduto" [template]="'codTemplate'"></dxi-item>

    <dxi-item  [label]="{text: 'Preço'}" dataField="preco" [template]="'precoTemplate'"></dxi-item>


    <div *dxTemplate="let data of 'selectorTemplate'">
      <produto-selector (valueChange)="selecionaProduto($event)"></produto-selector>
    </div>


    <div *dxTemplate="let data of 'nomeTemplate'">
      <dx-text-box
        width="500"
        maxLength="50"
        [(value)]="produto.descricao"
        [disabled]="tipoFormulario == 'delete'"
        [showClearButton]="true">
        <dx-validator validationGroup="produtoFormGroup">
          <dxi-validation-rule type="required" message="A descrição do produto é obrigatória!"></dxi-validation-rule>
        </dx-validator>

      </dx-text-box>

    </div>


    <div *dxTemplate="let data of 'codTemplate'">
      <dx-text-box
        width="500"
        maxLength="50"
        [(value)]="produto.codProduto"
        [disabled]="tipoFormulario == 'delete'"
        [showClearButton]="true">
        <dx-validator validationGroup="produtoFormGroup">
          <dxi-validation-rule type="required" message="O código do produto é obrigatório!"></dxi-validation-rule>
        </dx-validator>

      </dx-text-box>

    </div>


    <div *dxTemplate="let data of 'precoTemplate'">
      <dx-number-box
        width="500"
        [(value)]="produto.preco"
        [disabled]="tipoFormulario == 'delete'"
        [showClearButton]="true">
        <dx-validator validationGroup="produtoFormGroup">
          <dxi-validation-rule type="required" message="O preço do produto é obrigatório!"></dxi-validation-rule>
        </dx-validator>

      </dx-number-box>

    </div>


  </dx-form>
<div class="container-btns">
  <div [ngStyle]="{'margin-top': '20px', 'margin-left': '139px'}">
    <dx-button
      validationGroup="produtoFormGroup"
      [text]="textoBotao"
      (onClick)="onSubmit()">

    </dx-button>
  </div>

  <div *ngIf="tipoFormulario == 'delete' || tipoFormulario == 'update'"
       [ngStyle]="{'margin-top': '20px'}">
    <dx-button
      [text]="'Cancelar'"
      (onClick)="apagaProduto()">

    </dx-button>
  </div>

</div>




